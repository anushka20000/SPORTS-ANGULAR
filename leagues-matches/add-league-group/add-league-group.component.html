<div
  id="add_league_group_drawer"
  class="bg-body"
  data-kt-drawer="true"
  data-kt-drawer-name="add_league"
  data-kt-drawer-activate="true"
  data-kt-drawer-overlay="true"
  data-kt-drawer-width="{default:'300px', 'lg': '900px'}"
  data-kt-drawer-direction="end"
  data-kt-drawer-toggle="#add_league_group_toggle"
  data-kt-drawer-close="#add_league_group_close"
>
  <div class="card shadow-none rounded-0 w-100">
    <div class="card-header" id="add_league_header">
      <h3 class="card-title fw-bolder text-dark">Add League Group Club</h3>

      <div class="card-toolbar">
        <button
          type="button"
          class="btn btn-sm btn-icon btn-active-light-primary me-n5"
          id="add_league_close"
          (click)="closemodal()"
        >
          <span
            [inlineSVG]="'./assets/media/icons/duotune/arrows/arr061.svg'"
            class="svg-icon svg-icon-1"
          ></span>
        </button>
      </div>
    </div>
    <form [formGroup]="leagueForm" (ngSubmit)="onInsert(leagueForm.value)">
      <div class="card-body position-relative" id="add_league_body">
        <div
          id="kt_activities_scroll"
          class="position-relative scroll-y me-n5 pe-5"
          data-kt-scroll="true"
          data-kt-scroll-height="auto"
          data-kt-scroll-wrappers="#add_league_body"
          data-kt-scroll-dependencies="#add_league_header, #add_league_footer"
          data-kt-scroll-offset="5px"
        >

        <div class="row mb-6">
          <label class="col-lg-4 col-form-label required fw-bold fs-6">League</label>
          <div class="col-lg-8 fv-row">
            <select class="form-select form-select-solid form-select-lg fw-bold" formControlName="league_id" (change)="onLeagueSelect($event)" required>
              <option value="">Select a League...</option>
              <option *ngFor="let league of leagues" [value]="league.id">{{ league.name }}</option>
            </select>
            <div class="fv-plugins-message-container" *ngIf="leagueForm.get('league_id')?.hasError('required')">
              <div class="fv-help-block"> League is required</div>
            </div>
          </div>
        </div>

        <!-- Group Dropdown -->
        <div class="row mb-6">
          <label class="col-lg-4 col-form-label required fw-bold fs-6">Group</label>
          <div class="col-lg-8 fv-row">
            <select class="form-select form-select-solid form-select-lg fw-bold" formControlName="group_id" required>
              <option value="">Select a Group...</option>
              <option *ngFor="let group of groups" [value]="group.id">{{ group.name }}</option>
            </select>
            <div class="fv-plugins-message-container" *ngIf="leagueForm.get('group_id')?.hasError('required')">
              <div class="fv-help-block"> Group is required</div>
            </div>
          </div>
        </div>

        <!-- Team A Dropdown -->
        <div class="row mb-6">
          <label class="col-lg-4 col-form-label required fw-bold fs-6">Club</label>
          <div class="col-lg-8 fv-row">
            <select class="form-select form-select-solid form-select-lg fw-bold" formControlName="teamA_id" required>
              <option value="">Select Team A...</option>
              <option *ngFor="let team of teams" [value]="team.id">{{ team.name }}</option>
            </select>
            <div class="fv-plugins-message-container" *ngIf="leagueForm.get('teamA_id')?.hasError('required')">
              <div class="fv-help-block"> Team A is required</div>
            </div>
          </div>
        </div>
        <div class="row mb-6">
          <div class="col-lg-8 offset-lg-4 fv-row">
            <button
              [disabled]="!leagueForm.valid"
              class="btn btn-primary"
              type="submit"
            >
              <ng-container *ngIf="!isLoading">Save Changes</ng-container>
              <ng-container *ngIf="isLoading">
                <span class="indicator-progress">Please wait...<span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
              </ng-container>
            </button>
          </div>
        </div>
        </div>
      </div>
      <div id="add_league_footer" class="card-footer d-flex justify-content-end py-5 px-9"></div>
    </form>
  </div>
</div>
